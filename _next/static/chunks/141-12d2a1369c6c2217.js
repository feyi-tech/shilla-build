"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[141],{61454:function(e,n,t){var r=t(85893),i=t(20949),o=t(26723);function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}n.Z=function(e){var n=e.as,t=e.children,l=e.variant,c=a(e,["as","children","variant"]),u=(0,i.ff)("colorAccent.light","colorAccent.dark"),f=(0,i.ff)("colorAccentDestination.light","colorAccentDestination.dark");return(0,r.jsx)(o.zx,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){s(e,n,t[n])}))}return e}({as:n||"button",d:"inline-flex",justifyContent:"center",alignItems:"center",p:"0px 24px",h:"48px",letterSpacing:"0.03em",textAlign:"center",borderRadius:"16px",bg:"outline"==l?"transparent":u,border:"outline"==l?"2px solid":"none",borderColor:"outline"==l?f:"transparent",color:"outline"==l?f:"#fff",boxShadow:"ghost"==l||"outline"==l?"none":"rgb(14 14 44 / 40%) 0px -1px 0px 0px inset",opacity:"ghost"==l?"0.8":"1",transition:"background-color 0.2s ease 0s, opacity 0.2s ease 0s",_hover:{opacity:"0.65",bg:u,color:"#fff",border:"none !important"},_disabled:{opacity:"0.65",cursor:"not-allowed"}},c,{children:t}))}},27238:function(e,n,t){t.d(n,{J0:function(){return I},xP:function(){return T},Ev:function(){return W},V:function(){return x},Zu:function(){return q},l0:function(){return B},UI:function(){return O},YH:function(){return D}});var r=t(92667),i=t(82138),o=t(67294),s=t(37423),a=t(81961),l=t(94045),c=t(2593),u=t(16813),f=t(34515),d=t(85480),g=(t(47451),t(27)),m=(t(98450),t(34883));var y,h,p,v=(y={},h=a.jd.games,p={plays:[{gameId:1,playPos:1,player:"0x15752C16611d3312604Ef63324f754c18F1C2656",txHash:"0x1486c85c6dd5f94cae55fa09c5d253bea8e6753e"}],sessions:[{gameId:1,sessionId:1,txHash:"0xe7a1cfa9948701dab2ef073916b74dfbd0666f06ad42952a520ba944d83add46",primaryWinner:"0x15752C16611d3312604Ef63324f754c18F1C2656",primaryWinnerPrize:"49000001000000000",secondaryWinner:"0x0000000000000000000000000000000000000000",secondaryWinnerPrize:"0",totalPlayers:5,paymentTime:1669150276}],games:[{id:1,owner:"",entryPrice:"1000000000",countDownDuration:120,sessionId:1,allTimeTotalPlayers:58,sessionTotalPlayers:3,primaryWinnerPrize:"49000001000000000",secondaryWinnerPrize:"0",startBlock:0,endBlock:0,playBlock:300,awaitingPlayers:!1,firstToEndBlockMargin:8},{id:2,owner:"",entryPrice:"100000000000",countDownDuration:120,sessionId:1,allTimeTotalPlayers:58,sessionTotalPlayers:0,primaryWinnerPrize:"750000000000",secondaryWinnerPrize:"150000000000",startBlock:0,endBlock:0,playBlock:300,awaitingPlayers:!0,firstToEndBlockMargin:8},{id:3,owner:"",entryPrice:"100000000000",countDownDuration:120,sessionId:1,allTimeTotalPlayers:58,sessionTotalPlayers:0,primaryWinnerPrize:"750000000000",secondaryWinnerPrize:"150000000000",startBlock:0,endBlock:0,playBlock:300,awaitingPlayers:!0,firstToEndBlockMargin:8},{id:4,owner:"",entryPrice:"100000000000",countDownDuration:120,sessionId:1,allTimeTotalPlayers:58,sessionTotalPlayers:0,primaryWinnerPrize:"750000000000",secondaryWinnerPrize:"150000000000",startBlock:0,endBlock:0,playBlock:300,awaitingPlayers:!0,firstToEndBlockMargin:8},{id:5,owner:"",entryPrice:"100000000000",countDownDuration:120,sessionId:1,allTimeTotalPlayers:58,sessionTotalPlayers:0,primaryWinnerPrize:"750000000000",secondaryWinnerPrize:"150000000000",startBlock:0,endBlock:0,playBlock:300,awaitingPlayers:!0,firstToEndBlockMargin:8},{id:6,owner:"",entryPrice:"100000000000",countDownDuration:120,sessionId:1,allTimeTotalPlayers:58,sessionTotalPlayers:0,primaryWinnerPrize:"750000000000",secondaryWinnerPrize:"150000000000",startBlock:0,endBlock:0,playBlock:300,awaitingPlayers:!0,firstToEndBlockMargin:8},{id:7,owner:"",entryPrice:"100000000000",countDownDuration:120,sessionId:1,allTimeTotalPlayers:58,sessionTotalPlayers:0,primaryWinnerPrize:"750000000000",secondaryWinnerPrize:"150000000000",startBlock:0,endBlock:0,playBlock:300,awaitingPlayers:!0,firstToEndBlockMargin:8},{id:8,owner:"",entryPrice:"100000000000",countDownDuration:120,sessionId:1,allTimeTotalPlayers:58,sessionTotalPlayers:0,primaryWinnerPrize:"750000000000",secondaryWinnerPrize:"150000000000",startBlock:0,endBlock:0,playBlock:300,awaitingPlayers:!0,firstToEndBlockMargin:8}]},h in y?Object.defineProperty(y,h,{value:p,enumerable:!0,configurable:!0,writable:!0}):y[h]=p,y);function w(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function P(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){w(e,n,t[n])}))}return e}function S(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function k(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(t.push(s.value),!n||t.length!==n);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function E(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var $,b=function(e){var n=e.context,t=e.query,r=e.variables,i=(S(e,["context","query","variables"]),(0,o.useState)()),s=i[0],l=(i[1],(0,o.useState)(!1)),c=l[0],u=l[1],f=(0,o.useState)(),d=f[0],g=f[1];return(0,o.useEffect)((function(){u(!0),setTimeout((function(){n.url==a.jd.games?t.includes("plays(")?1==(null===r||void 0===r?void 0:r.id)?g({plays:v[n.url].plays}):g({plays:[]}):t.includes("sessions(")?1==(null===r||void 0===r?void 0:r.id)?g({sessions:v[n.url].sessions}):g({sessions:[]}):t.includes("games(")&&g({games:v[n.url].games}):g(v[n.url]),console.log("Query:QQ",null===r||void 0===r?void 0:r.id,t),console.log("Query:DD",n.url,v[n.url]),u(!1)}),2e3)}),[n.url,t]),console.log("Query:RR",d),[{data:d,fetching:c,error:s},function(){}]},I=function(e,n,t){var s=(0,i.Z)("common").t,a=(0,r.pm)(),l=(0,o.useMemo)((function(){return{url:e}}),[e]),c=k(b(P({},n,{context:l})),2),u=c[0],f=c[1],d=u.data,g=u.fetching,y=u.error,h=[5e3,1e4,2e4,2e4,2e4],p=(0,o.useState)(0),v=p[0],S=p[1],E=((0,m.k)(),(0,o.useState)());E[0],E[1];return(0,o.useEffect)((function(){y&&y.message.toLowerCase().includes("network")&&(a({description:s("network-error"),status:"error",duration:4e3,isClosable:!0}),setTimeout((function(){f({requestPolicy:"cache-first"})}),h[v]),S(v+1>=h.length?0:v+1))}),[y]),t?[P({},u,($={},w($,t.data,d),w($,t.fetching,g),w($,t.error,y),$)),f]:[u,f]},T=function(e,n,t){var r=(0,o.useState)([]),i=r[0],f=r[1],d=(0,o.useState)(),m=d[0],y=d[1],h=(0,o.useState)(),p=(h[0],h[1]),v=(0,o.useState)(),w=v[0],P=v[1],S=(0,o.useState)(),$=(S[0],S[1]),b=(0,o.useState)(),T=b[0],B=b[1],D=(0,o.useState)(),W=(D[0],D[1]),O=(0,o.useState)("0"),q=O[0],x=O[1],j=(0,o.useState)("0"),F=j[0],H=j[1],z=k(I(a.jd.games,{query:"query($id: String!, $sid: String!, $limit: Int!) {\n        plays(where: {gameId: $id, sessionId: $sid}, first: $limit, orderBy: playPos, orderDirection: desc) {\n            playPos\n            player\n            txHash\n        }\n    }",variables:{id:e,sid:n,limit:t},pause:!0}),2),Q=z[0],_=z[1],C=Q.data,L=Q.fetching,G=Q.error;(0,o.useEffect)((function(){B(L)}),[L]),(0,o.useEffect)((function(){W(G)}),[G]),(0,o.useEffect)((function(){var e;(null===C||void 0===C?void 0:C.plays)&&(null===C||void 0===C||null===(e=C.plays)||void 0===e?void 0:e.length)>0&&(f(C.plays),x(C.plays[C.plays.length-1].playPos),H(C.plays[0].playPos))}),[C]),console.log("useDappQuery.data.first",C,"fetching",L,"error",G,"gameId",e,"limit",t);var N=k(I(a.jd.games,{query:"query($id: String!, $sid: String!, $pos: String!, $limit: Int!) {\n        plays(where: {gameId: $id, sessionId: $sid, playPos_lt: $pos}, first: $limit, orderBy: playPos, orderDirection: desc) {\n            playPos\n            player\n            txHash\n        }\n    }",variables:{id:e,sid:n,pos:q,limit:t},pause:!0},{data:"moreData",fetching:"moreFetching",error:"moreError"}),2),M=N[0],A=N[1],U=M.moreData,J=M.moreFetching,Z=M.moreError;(0,o.useEffect)((function(){y(J)}),[J]),(0,o.useEffect)((function(){p(Z)}),[Z]),(0,o.useEffect)((function(){var e;(null===U||void 0===U?void 0:U.plays)&&(null===U||void 0===U||null===(e=U.plays)||void 0===e?void 0:e.length)>0&&(f(U.plays),x(U.plays[U.plays.length-1].playPos))}),[U]),console.log("useDappQuery.data.more",U,"fetching",J,"error",Z);var R=(0,o.useState)(),Y=R[0],V=R[1],K=(0,s.Z)(Y,"useDappSubscription.filter",g.abi);console.log("cEvent:",K);(0,o.useEffect)((function(){if(K){var e={player:K.parsedLog.args[1],playPos:K.parsedLog.args[5].toString(),txHash:K.transactionHash};console.log("ran:","playInfo",e),c.O$.from(F).lt(c.O$.from(e.playPos))&&(f([e].concat(E(i))),H(e.playPos))}}),[K]);return(0,o.useEffect)((function(){x("0"),H("0"),f([]),B(!1),W(null),y(!1),p(null),P(!1),$(null),e&&c.O$.from(e)>u.HW&&n&&c.O$.from(n)>u.HW&&t>0&&(e&&!Y&&V((0,l.Nt)(e)),_({requestPolicy:"cache-first"}))}),[e,n,t]),{players:i,playersFirstFetching:T,playersNextFetching:m,playersSubcribeFetching:w,nextPlayers:function(){c.O$.from(q).gt(u.HW)&&A({requestPolicy:"cache-first"})},minPlayPos:q}},B=function(e,n){var t=(0,o.useState)([]),r=t[0],i=t[1],f=(0,o.useState)(),d=f[0],m=f[1],y=(0,o.useState)(),h=(y[0],y[1]),p=(0,o.useState)(),v=p[0],w=p[1],P=(0,o.useState)(),S=(P[0],P[1]),$=(0,o.useState)(),b=$[0],T=$[1],B=(0,o.useState)(),D=(B[0],B[1]),W=(0,o.useState)("0"),O=W[0],q=W[1],x=(0,o.useState)("0"),j=x[0],F=x[1],H=k(I(a.jd.games,{query:"query($id: String!, $limit: Int!) {\n        sessions(where: {gameId: $id}, first: $limit, orderBy: sessionId, orderDirection: desc) {\n            sessionId\n            txHash\n            primaryWinner\n            primaryWinnerPrize\n            secondaryWinner\n            secondaryWinnerPrize\n            totalPlayers\n            paymentTime\n        }\n    }",variables:{id:e,limit:n},pause:!0}),2),z=H[0],Q=H[1],_=z.data,C=z.fetching,L=z.error;(0,o.useEffect)((function(){w(C)}),[C]),(0,o.useEffect)((function(){S(L)}),[L]),(0,o.useEffect)((function(){var e;(null===_||void 0===_?void 0:_.sessions)&&(null===_||void 0===_||null===(e=_.sessions)||void 0===e?void 0:e.length)>0&&(i(_.sessions),q(_.sessions[_.sessions.length-1].sessionId),F(_.sessions[0].sessionId))}),[_]),console.log("useDappQuery.data.first",_,"fetching",C,"error",L,"gameId",e,"limit",n);var G=k(I(a.jd.games,{query:"query($id: String!, $pos: String!, $limit: Int!) {\n        sessions(where: {gameId: $id, sessionId_lt: $pos}, first: $limit, orderBy: sessionId, orderDirection: desc) {\n            sessionId\n            txHash\n            primaryWinner\n            primaryWinnerPrize\n            secondaryWinner\n            secondaryWinnerPrize\n            totalPlayers\n            paymentTime\n        }\n    }",variables:{id:e,pos:O,limit:n},pause:!0},{data:"moreData",fetching:"moreFetching",error:"moreError"}),2),N=G[0],M=G[1],A=N.moreData,U=N.moreFetching,J=N.moreError;(0,o.useEffect)((function(){m(U)}),[U]),(0,o.useEffect)((function(){h(J)}),[J]),(0,o.useEffect)((function(){var e;(null===A||void 0===A?void 0:A.sessions)&&(null===A||void 0===A||null===(e=A.sessions)||void 0===e?void 0:e.length)>0&&(i(A.sessions),q(A.sessions[A.sessions.length-1].sessionId))}),[A]),console.log("useDappQuery.data.more",A,"fetching",U,"error",J);var Z=(0,o.useState)(),R=Z[0],Y=Z[1],V=(0,s.Z)(R,"useDappSubscription.filter",g.abi);console.log("cEvent:",V),(0,o.useEffect)((function(){if(V){var e={gameId:V.parsedLog.args[0].toString(),primaryWinner:V.parsedLog.args[1],secondaryWinner:V.parsedLog.args[2],sessionId:V.parsedLog.args[3].toString(),primaryWinnerPrize:V.parsedLog.args[4].toString(),secondaryWinnerPrize:V.parsedLog.args[5].toString(),totalPlayers:V.parsedLog.args[6].toString(),txHash:V.transactionHash};console.log("ran:","playInfo",e),c.O$.from(j).lt(c.O$.from(e.sessionId))&&(i([e].concat(E(r))),F(e.sessionId))}}),[V]);return(0,o.useEffect)((function(){q("0"),F("0"),i([]),w(!1),S(null),m(!1),h(null),T(!1),D(null),e&&c.O$.from(e)>u.HW&&n>0&&(Y((0,l.D_)(parseInt(e))),Q({requestPolicy:"cache-first"}))}),[e,n]),{recentGames:r,recentGamesFirstFetching:v,recentGamesNextFetching:d,recentGamesSubscribeFetching:b,nextRecentGames:function(){c.O$.from(O).gt(u.HW)&&M({requestPolicy:"cache-first"})},minGameSession:O}},D=function(e,n,t){var r=(0,o.useState)([]),i=r[0],s=r[1],l=(0,o.useState)(),d=l[0],g=l[1],m=(0,o.useState)(),y=(m[0],m[1]),h=(0,o.useState)(),p=h[0],v=h[1],w=(0,o.useState)(),P=(w[0],w[1]),S=(0,o.useState)(),$=S[0],b=S[1],T=(0,o.useState)(),B=(T[0],T[1]),D=(0,o.useState)("".concat(a.n1)),W=D[0],O=D[1],q=k(I(a.jd.games,{query:"query($owner: String!, $limit: Int!) {\n        games(where: {owner: $owner}, first: $limit, orderBy: id, orderDirection: desc) {\n            id\n            allTimeTotalPlayers\n            startBlock\n            endBlock\n            playBlock\n            awaitingPlayers\n            totalHouseFeesPaid\n            totalHouseFeesPending\n            firstToEndBlockMargin\n            lastPaymentTime\n            lastPaymentTx\n        }\n    }",variables:{owner:(e||a.je).toLowerCase(),limit:t},pause:!0}),2),x=q[0],j=q[1],F=x.data,H=x.fetching,z=x.error;(0,o.useEffect)((function(){b(H)}),[H]),(0,o.useEffect)((function(){B(z)}),[z]),(0,o.useEffect)((function(){var e;(null===F||void 0===F?void 0:F.games)&&(null===F||void 0===F||null===(e=F.games)||void 0===e?void 0:e.length)>0&&(s(F.games),O(F.games[F.games.length-1].id))}),[F]),console.log("useUserGamesQuery.data.first",F,"fetching",H,"error",z,"owner",e,"limit",t);var Q=k(I(a.jd.games,{query:"query($owner: String!, $pos: String!, $limit: Int!) {\n        games(where: {owner: $owner, id_lt: $pos}, first: $limit, orderBy: id, orderDirection: desc) {\n            id\n            allTimeTotalPlayers\n            startBlock\n            endBlock\n            playBlock\n            awaitingPlayers\n            totalHouseFeesPaid\n            totalHouseFeesPending\n            firstToEndBlockMargin\n            lastPaymentTime\n            lastPaymentTx\n        }\n    }",variables:{owner:(e||a.je).toLowerCase(),pos:W,limit:t},pause:!0},{data:"moreData",fetching:"moreFetching",error:"moreError"}),2),_=Q[0],C=Q[1],L=_.moreData,G=_.moreFetching,N=_.moreError;(0,o.useEffect)((function(){g(G)}),[G]),(0,o.useEffect)((function(){y(N)}),[N]),(0,o.useEffect)((function(){var e;(null===L||void 0===L?void 0:L.games)&&(null===L||void 0===L||null===(e=L.games)||void 0===e?void 0:e.length)>0&&(s(E(i).concat(E(L.games))),O(L.games[L.games.length-1].id))}),[L]),console.log("useUserGamesQuery.data.more",L,"fetching",G,"error",N);var M=k(I(a.jd.games,{query:"query($owner: String!, $gameId: String!, $limit: Int!) {\n        games(where: {owner: $owner, id: $gameId}, first: $limit, orderBy: id, orderDirection: desc) {\n            id\n            allTimeTotalPlayers\n            startBlock\n            endBlock\n            playBlock\n            awaitingPlayers\n            totalHouseFeesPaid\n            totalHouseFeesPending\n            firstToEndBlockMargin\n            lastPaymentTime\n            lastPaymentTx\n        }\n    }",variables:{owner:(e||a.je).toLowerCase(),gameId:n,limit:t},pause:!0},{data:"searchData",fetching:"searchFetching",error:"searchError"}),2),A=M[0],U=M[1],J=A.searchData,Z=A.searchFetching,R=A.searchError;(0,o.useEffect)((function(){v(Z)}),[Z]),(0,o.useEffect)((function(){P(R)}),[R]),(0,o.useEffect)((function(){var e;(null===J||void 0===J?void 0:J.games)&&(null===J||void 0===J||null===(e=J.games)||void 0===e?void 0:e.length)>0&&(s(J.games),O(J.games[J.games.length-1].id))}),[J]),console.log("useUserGamesQuery.data.search",J,"fetching",Z,"error",R,"gameId",n,"limit",t);var Y=function(){U({requestPolicy:"cache-first"})};return(0,o.useEffect)((function(){O("".concat(a.n1)),s([]),b(!1),B(null),g(!1),y(null),v(!1),P(null),n&&c.O$.from(n)>u.HW?Y():e&&(0,f.UJ)(e)&&t>0&&j({requestPolicy:"cache-first"})}),[e,n,t]),{userGames:i,userGamesFirstFetching:$,userGamesNextFetching:d,userGamesSearchFetching:p,nextUserGames:function(){C({requestPolicy:"cache-first"})},searchUserGame:Y,minIdPos:W}},W=function(e,n,t){var r=(0,o.useState)([]),i=r[0],s=r[1],l=(0,o.useState)(),d=l[0],g=l[1],m=(0,o.useState)(),y=(m[0],m[1]),h=(0,o.useState)(),p=h[0],v=h[1],w=(0,o.useState)(),P=(w[0],w[1]),S=(0,o.useState)(),$=S[0],b=S[1],T=(0,o.useState)(),B=(T[0],T[1]),D=(0,o.useState)("0"),W=D[0],O=D[1],q=(0,o.useState)("0"),x=q[0],j=q[1],F=k(I(a.jd.games,{query:"query($owner: String!, $limit: Int!) {\n        winnings(where: {winner: $owner}, first: $limit, orderBy: payTime, orderDirection: desc) {\n            id\n            gameId\n            sessionId\n            txHash\n            winPos\n            payTime\n            amount\n        }\n    }",variables:{owner:(e||a.je).toLowerCase(),limit:t},pause:!0}),2),H=F[0],z=F[1],Q=H.data,_=H.fetching,C=H.error;(0,o.useEffect)((function(){b(_)}),[_]),(0,o.useEffect)((function(){B(C)}),[C]),(0,o.useEffect)((function(){var e;if((null===Q||void 0===Q?void 0:Q.winnings)&&(null===Q||void 0===Q||null===(e=Q.winnings)||void 0===e?void 0:e.length)>0){s(Q.winnings);var n="0";Q.winnings.length>=2&&(n=Q.winnings[Q.winnings.length-2].payTime);var t=Q.winnings[Q.winnings.length-1].payTime;(c.O$.from(t).eq(c.O$.from(W))||c.O$.from(t).eq(c.O$.from(n)))&&(t=c.O$.from(t).sub(u.cQ).toString()),O(t),j(Q.winnings[Q.winnings.length-1].id)}}),[Q]),console.log("useGameWinnings.data.first",Q,"fetching",_,"error",C,"owner",e,"limit",t);var L=k(I(a.jd.games,{query:"query($owner: String!, $pos: String!, $id: String!, $limit: Int!) {\n        winnings(where: {winner: $owner, payTime_lte: $pos, id_not: $id}, first: $limit, orderBy: payTime, orderDirection: desc) {\n            id\n            gameId\n            sessionId\n            txHash\n            winPos\n            payTime\n            amount\n        }\n    }",variables:{owner:(e||a.je).toLowerCase(),pos:W,id:x,limit:t},pause:!0},{data:"moreData",fetching:"moreFetching",error:"moreError"}),2),G=L[0],N=L[1],M=G.moreData,A=G.moreFetching,U=G.moreError;(0,o.useEffect)((function(){g(A)}),[A]),(0,o.useEffect)((function(){y(U)}),[U]),(0,o.useEffect)((function(){var e;if((null===M||void 0===M?void 0:M.winnings)&&(null===M||void 0===M||null===(e=M.winnings)||void 0===e?void 0:e.length)>0){s(E(i).concat(E(M.winnings)));var n="0";M.winnings.length>=2&&(n=M.winnings[M.winnings.length-2].payTime);var t=M.winnings[M.winnings.length-1].payTime;(c.O$.from(t).eq(c.O$.from(W))||c.O$.from(t).eq(c.O$.from(n)))&&(t=c.O$.from(t).sub(u.cQ).toString()),O(t),j(M.winnings[M.winnings.length-1].id)}}),[M]),console.log("useGameWinnings.data.more",M,"fetching",A,"error",U);var J=k(I(a.jd.games,{query:"query($owner: String!, $gameId: BigInt!, $pos: BigInt!, $id: BigInt!, $limit: Int!) {\n        winnings(where: {winner: $owner, gameId: $gameId, payTime_lte: $pos, id_not: $id}, first: $limit, orderBy: payTime, orderDirection: desc) {\n            id\n            gameId\n            sessionId\n            txHash\n            winPos\n            payTime\n            amount\n        }\n    }",variables:{owner:(e||a.je).toLowerCase(),gameId:n,pos:W,id:x,limit:t},pause:!0},{data:"searchData",fetching:"searchFetching",error:"searchError"}),2),Z=J[0],R=J[1],Y=Z.searchData,V=Z.searchFetching,K=Z.searchError;(0,o.useEffect)((function(){b(V)}),[V]),(0,o.useEffect)((function(){B(K)}),[K]),(0,o.useEffect)((function(){var e;if((null===Y||void 0===Y?void 0:Y.winnings)&&(null===Y||void 0===Y||null===(e=Y.winnings)||void 0===e?void 0:e.length)>0){s(E(i).concat(E(Y.winnings)));var n="0";Y.winnings.length>=2&&(n=Y.winnings[Y.winnings.length-2].payTime);var t=Y.winnings[Y.winnings.length-1].payTime;(c.O$.from(t).eq(c.O$.from(W))||c.O$.from(t).eq(c.O$.from(n)))&&(t=c.O$.from(t).sub(u.cQ).toString()),O(t),j(Y.winnings[Y.winnings.length-1].id)}}),[Y]),console.log("useUserWinningsQuery.data.search",Y,"fetching",V,"error",K,"gameId",n,"limit",t);var X=function(){R({requestPolicy:"cache-first"}),console.log("useUserWinningsQuery.data.SSS")};return(0,o.useEffect)((function(){b(!1),B(null),g(!1),y(null),v(!1),P(null),j("0"),s([]),n&&c.O$.from(n)>u.HW?O("164625939400000"):e&&(0,f.UJ)(e)&&t>0&&(O("0"),z({requestPolicy:"cache-first"}))}),[e,n,t]),(0,o.useEffect)((function(){n&&c.O$.from(n)>u.HW&&"164625939400000"==W&&"0"==x&&X()}),[W,x,n]),{gameWinnings:i,gameWinningsFirstFetching:$,gameWinningsNextFetching:d,gameWinningsSearchFetching:p,nextGameWinnings:function(){n&&c.O$.from(n)>u.HW?X():N({requestPolicy:"cache-first"})},minPayTime:W}},O=function(e,n){var t=(0,o.useState)([]),r=t[0],i=t[1],s=(0,o.useState)(),l=s[0],c=s[1],u=(0,o.useState)(),d=u[0],g=u[1],m=(0,o.useState)(),y=m[0],h=m[1],p=(0,o.useState)(),v=p[0],w=p[1],P=(0,o.useState)("".concat(a.n1)),S=P[0],$=P[1],b=k(I(a.jd.shills,{query:"query($owner: String!, $limit: Int!) {\n        shillWages(where: { shiller: $owner }, first: $limit, orderBy: pos, orderDirection: desc) {\n          id\n          shiller\n          referral\n          totalPayment\n          lastPayment\n          lastPaymentTime\n          lastPaymentHash\n          pos\n        }\n      }",variables:{owner:(e||a.je).toLowerCase(),limit:n},pause:!0}),2),T=b[0],B=b[1],D=T.data,W=T.fetching,O=T.error;(0,o.useEffect)((function(){h(W)}),[W]),(0,o.useEffect)((function(){w(O)}),[O]),(0,o.useEffect)((function(){var e;(null===D||void 0===D?void 0:D.shillWages)&&(null===D||void 0===D||null===(e=D.shillWages)||void 0===e?void 0:e.length)>0&&(i(D.shillWages),$(D.shillWages[D.shillWages.length-1].pos))}),[D]),console.log("useshillEarnings.data.first",D,"fetching",W,"error",O,"owner",e,"limit",n);var q=k(I(a.jd.shills,{query:"query($owner: String!, $pos: String!, $limit: Int!) {\n        shillWages(where: {shiller: $owner, pos_lt: $pos}, first: $limit, orderBy: pos, orderDirection: desc) {\n            id\n            shiller\n            referral\n            totalPayment\n            lastPayment\n            lastPaymentTime\n            lastPaymentHash\n            pos\n        }\n    }",variables:{owner:(e||a.je).toLowerCase(),pos:S,limit:n},pause:!0},{data:"moreData",fetching:"moreFetching",error:"moreError"}),2),x=q[0],j=q[1],F=x.moreData,H=x.moreFetching,z=x.moreError;(0,o.useEffect)((function(){c(H)}),[H]),(0,o.useEffect)((function(){g(z)}),[z]),(0,o.useEffect)((function(){var e;(null===F||void 0===F?void 0:F.shillWages)&&(null===F||void 0===F||null===(e=F.shillWages)||void 0===e?void 0:e.length)>0&&(i(E(r).concat(E(F.shillWages))),$(F.shillWages[F.shillWages.length-1].pos))}),[F]),console.log("useshillEarnings.data.more",F,"fetching",H,"error",z);return(0,o.useEffect)((function(){$("".concat(a.n1)),i([]),h(!1),w(null),c(!1),g(null),e&&(0,f.UJ)(e)&&n>0&&B({requestPolicy:"cache-first"})}),[e,n]),{shillEarnings:r,shillEarningsFirstFetching:y,shillEarningsNextFetching:l,shillEarningsFirstError:v,shillEarningsNextError:d,nextshillEarnings:function(){j({requestPolicy:"cache-first"})},restart:function(){$("".concat(a.n1)),i([]),h(!1),w(null),c(!1),g(null),B({requestPolicy:"cache-first"})},minWagePos:S}},q=function(e,n){var t=(0,o.useState)([]),r=t[0],i=t[1],s=(0,o.useState)(),l=s[0],c=s[1],u=(0,o.useState)(),d=u[0],g=u[1],m=(0,o.useState)(),y=m[0],h=m[1],p=(0,o.useState)(),v=p[0],w=p[1],P=(0,o.useState)("".concat(a.n1)),S=P[0],$=P[1],b=k(I(a.jd.stakes,{query:"query($owner: String!, $limit: Int!) {\n        stakes(where: { owner: $owner }, first: $limit, orderBy: stakeId, orderDirection: desc) {\n            id\n            owner\n            stakeId\n            lockId\n            amount\n            unlockTime\n            lastDividendPoints\n            stakeHash\n        }\n      }",variables:{owner:(e||a.je).toLowerCase(),limit:n},pause:!0}),2),T=b[0],B=b[1],D=T.data,W=T.fetching,O=T.error;(0,o.useEffect)((function(){h(W)}),[W]),(0,o.useEffect)((function(){w(O)}),[O]),(0,o.useEffect)((function(){var e;(null===D||void 0===D?void 0:D.stakes)&&(null===D||void 0===D||null===(e=D.stakes)||void 0===e?void 0:e.length)>0&&(i(D.stakes),$(D.stakes[D.stakes.length-1].stakeId))}),[D]),console.log("usemyStakes.data.first",D,"fetching",W,"error",O,"owner",e,"limit",n);var q=k(I(a.jd.stakes,{query:"query($owner: String!, $pos: String!, $limit: Int!) {\n        stakes(where: {owner: $owner, stakeId_lt: $pos}, first: $limit, orderBy: stakeId, orderDirection: desc) {\n            id\n            owner\n            stakeId\n            lockId\n            amount\n            unlockTime\n            lastDividendPoints\n            stakeHash\n        }\n    }",variables:{owner:(e||a.je).toLowerCase(),pos:S,limit:n},pause:!0},{data:"moreData",fetching:"moreFetching",error:"moreError"}),2),x=q[0],j=q[1],F=x.moreData,H=x.moreFetching,z=x.moreError;(0,o.useEffect)((function(){c(H)}),[H]),(0,o.useEffect)((function(){g(z)}),[z]),(0,o.useEffect)((function(){var e;(null===F||void 0===F?void 0:F.stakes)&&(null===F||void 0===F||null===(e=F.stakes)||void 0===e?void 0:e.length)>0&&(i(E(r).concat(E(F.stakes))),$(F.stakes[F.stakes.length-1].stakeId))}),[F]),console.log("usemyStakes.data.more",F,"fetching",H,"error",z);return(0,o.useEffect)((function(){$("".concat(a.n1)),i([]),h(!1),w(null),c(!1),g(null),e&&(0,f.UJ)(e)&&n>0&&B({requestPolicy:"cache-first"})}),[e,n]),{myStakes:r,myStakesFirstFetching:y,myStakesNextFetching:l,myStakesFirstError:v,myStakesNextError:d,nextMyStakes:function(){j({requestPolicy:"cache-first"})},removeStake:function(e){if(e<r.length){var n=E(r);n.splice(e,1),$(n[n.length-1].stakeId),i(n)}},minStakeId:S}},x=function(e,n,t,r,i){var s=(0,o.useState)([]),c=s[0],u=s[1],g=(0,o.useState)(),m=g[0],y=g[1],h=(0,o.useState)(),p=(h[0],h[1]),v=(0,d.Ov)(),w=function(){return{all:{key:"filter-all",query:function(){return null}},inActive:{key:"filter-inactive",query:function(){return"startBlock: 0, endBlock: 0"}},ended:{key:"filter-recently-ended",query:function(){return"endBlock_gt: 0, endBlock_lte: ".concat((v||0)+1)}},upcoming:{key:"filter-upcoming",query:function(){return"startBlock_gt: ".concat((v||0)+1)}},awaiting:{key:"filter-awaiting",query:function(){return"startBlock_lte: ".concat((v||0)+1,", awaitingPlayers: true")}},playing:{key:"filter-played",query:function(){return"startBlock_gt: 0, endBlock_gt: ".concat((v||0)+1)}}}},P=function(o){var s="";(0,l.N4)(e)||((0,f.UJ)(e.trim())?s='owner: "'.concat(e.trim().toLowerCase(),'"'):isNaN(e)||(s="id: ".concat(e))),w()[t||""]&&w()[t].query()&&(s="".concat(s.length>0?"".concat(s,", "):"").concat(w()[t].query()));var a="";r&&i&&(a="orderBy: ".concat(r,", orderDirection: ").concat(i)),s="\n        ".concat(s.length>0?"where: {".concat(s,"}"):"","\n        ").concat(a.length>0&&s.length>0?", ":"","\n        ").concat(a),s="\n        ".concat(s,"\n        ").concat(0==s.length?"first: ".concat(n,", skip: ").concat(o?0:c.length):", first: ".concat(n,", skip: ").concat(o?0:c.length));var u="\n        query {\n          games(".concat(s,") {\n            id\n            owner\n            entryPrice\n            countDownDuration\n            sessionId\n            allTimeTotalPlayers\n            sessionTotalPlayers\n            primaryWinnerPrize\n            secondaryWinnerPrize\n            startBlock\n            endBlock\n            playBlock\n            awaitingPlayers\n            firstToEndBlockMargin\n          }\n        }");return console.log("Query:",u,"F:",t,w()[t||""]),u},S=(0,o.useState)(P()),E=S[0],$=S[1],b=(0,o.useState)(!1),T=b[0],B=b[1],D=k(I(a.jd.games,{query:E,pause:!0}),2),W=D[0],O=D[1],q=W.data,x=W.fetching,j=W.error;console.log("Query:D3",x,j,q),(0,o.useEffect)((function(){y(x),console.log("Query:F",x)}),[x]),(0,o.useEffect)((function(){p(j),console.log("Query:E",j)}),[j]),(0,o.useEffect)((function(){var e,t;(null===q||void 0===q?void 0:q.games)&&(null===q||void 0===q||null===(e=q.games)||void 0===e?void 0:e.length)>0?(B(!((null===q||void 0===q||null===(t=q.games)||void 0===t?void 0:t.length)<n)),u(q.games),console.log("Query:D3.Yes",q.games)):j||(B(!1),console.log("Query:D3.No"));console.log("Query:Data",q)}),[q,x]);return(0,o.useEffect)((function(){console.log("QQ:",m),E&&O({requestPolicy:"cache-first"})}),[E]),(0,o.useEffect)((function(){v&&r&&i&&n>0&&P(!0)!=E&&(u([]),y(!1),p(null),B(!1),$(P(!0)))}),[e,n,t,r,i]),{games:c,gamesFetching:m,nextGames:function(){$(P())},hasNext:T}}}}]);